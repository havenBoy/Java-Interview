### Kylin

#### 一、简单介绍

- [ ] 由eBay公司的中国团队开发，是一个免费的开源OLAP多维数据分析引擎
- [ ] 支持亚秒级别的响应，查询的速度快
- [ ] 支持超大的数据集，PB的级别
- [ ] 支持标准的SQL接口，是一个简单的即席查询工具
- [ ] 支持标准数据库协议，可以集成各种BI分析工具
- [ ] 可伸缩与高吞吐率

  定义：开源分布式的分析引擎，提供hadoop/spark上 的SQL查询接口与OLAP的多维数据分析

  支持在压秒级别的查询HIVE表

#### 二、专有名词解释

- [ ] ##### 数据仓库  data_warehouse

  包括企业业务数据所有的订单、库存、账目的数据

- [ ] ##### 商业智能

  将数据转化为知识，帮助企业做出明智的业务经营决策的工具

- [ ] ##### OLAP    online analytical processing

  能够使得分析人员进行迅速一致 的各个方面观察数据，以致达到理解数据的目的

  ROALP    基于关系型数据库  不需要预计算      presto

  MOLAP   基于多维数据集  需要预计算  kylin

- [ ] ##### cube

  一个数据集称为一个OLAP的cube

- [ ] ##### cubeOid

  所有维度组成一个维度数据集，

- [ ] ##### 星型模型

- [ ] ##### 事实表与维度表

- [ ] ##### 维度与度量字段

  维度：分析数据的角度

  度量：被分析的指标

#### 三、架构说明

![image-20221030145550346](F:\gitee\Java-Interview\image\image-20221030145423447.png)

1. 面向应用程序开发的界面

2. 查询引擎

3. 路由引擎

   原本设计如果在cube查询不到的话，会到hive中查询，但由于查询的差异比较大，所以默认关闭。

   在版本4.0后，使用spark引擎去查询，也可以使用自定义的查询引擎

4. 元数据管理工具

5. 任务构建引擎

   在新版本4.0中，将MR替换为spark，速度更加快

#### 四、安装部署

| 组件名称 | 版本约束 | 备注               |
| -------- | -------- | ------------------ |
| hadoop   | >=3.2.0  | 测试验证 3.1.3也可 |
| spark    | >=3.1.1  | 必须最小3.1.3      |
| hive     | >=2.3.9  | 验证3.1.3也可      |

注意事项

- [ ] 修改yarn的最小内存限制，最小8G
- [ ] 修改applicationMaster的内存占比，修改0.1到0.8
- [ ] 在kylin安装的目录下，创建一个ext文件，放一个mysql连接的驱动器到此目录
- [ ] 手动创建kylin的数据库
- [ ] 启动hadoop与zookeeper服务

#### 五、cube构建调优

#### 六、查询性能优化