### 主从数据库时延问题解决

- 问题出现

  - 当多个从数据库作为主数据库的备份时，从数据库需要同步主数据库的数据，以做到数据的一致性，

    但是由于数据的胖大性，导致从数据库和主数据的数据有可能很大的不一样；

  - 当主库的TPS并发较高时，产生的DDL数量超过了从数据库一个线程所能承受的范围，或者是主库本身的并发已经很高，

    在网络传输的时候发生了延时；

- 问题解决

  - 在主数据库使用show slave satus可以查看从数据库与主数据库的时延是多少，以秒为单位；
  - 在数据库与业务之间加入缓存层，例如redis，可以减少数据库的压力；
  - 增加从数据库的节点数，主写从读，减少压力；
  - 业务的持久化层使用分库架构，可分散压力；
  - 或者重新读取binlog日志文件；

  