### 数据库基础

#### 数据库三大范式

第一范式：每个列都不可拆分

第二范式：每列都与主键相关

第三范式： 确保与主键直接相关，而非间接相关

#### mysql的binlog录入模式

1. statement模式，将每一条的修改sql记录在binlog中，不记录每行的变化，可减少binlog日志的大小

   SQL执行的上下文需要特殊保存

2. row模式，不记录上下相关信息，只是记录被修改的记录数据，但如果出现类似于alter table的语句

   会导致记录的数据信息太多，日志量很大

3. mix模式，一种折中的方案，普通操作使用statement记录，无法使用statement时，使用row模式

#### mysql的binglog开启

1. 查看是否已经开启：SHOW VARIABLES LIKE 'log_bin';
2. /etc/my.cnf文件下，log_bin=ON；
3. 设置完毕后，重启mysql即可；

#### mysql存储引擎介绍与比较以及使用场景

1. Innodb: 提供对数据库ACID事务的支持，且包含了行级锁与外键的约束
2. MyISAM: 不提供事务的支持，不支持行级锁与外键
3. MEMEORY: 所有的数据都在内存中，数据处理快，但安全性不高

#### B+树更加适合索引的原因

二分查找可以把查找的速度提高到log2N,所以瓶颈在于树的深度，最坏的情况需要到最深层
所以要把树设计的尽量矮胖一些，从而减少层数，非叶子节点存放索引信息，叶子节点存放真正的数据

1. B树提高了IO的性能，但没有解决元素遍历低下的问题
2. B+树将所有的数据存储在叶子节点中，非叶子节点存储的是关键字信息的指针，只要遍历叶子节点即可
3. 查询更加稳定，因为查询到每个关键字的路径长度都是相同的

